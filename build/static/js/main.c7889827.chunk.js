(this.webpackJsonpgocheck=this.webpackJsonpgocheck||[]).push([[0],{43:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"db",(function(){return p})),n.d(r,"auth",(function(){return O})),n.d(r,"provider",(function(){return g}));var o={};n.r(o),n.d(o,"doCreateUserWithEmailAndPassword",(function(){return x})),n.d(o,"doSignInWithEmailAndPassword",(function(){return m})),n.d(o,"doSignOut",(function(){return v})),n.d(o,"doPasswordReset",(function(){return w})),n.d(o,"doPasswordUpdate",(function(){return S})),n.d(o,"signInWithGoogle",(function(){return y}));var a={};n.r(a),n.d(a,"doCreateUser",(function(){return C})),n.d(a,"onceGetUsers",(function(){return k})),n.d(a,"doCreateMessage",(function(){return U})),n.d(a,"onMessageAdded",(function(){return P}));var c=n(2),s=n.n(c),i=n(26),u=n.n(i),l=(n(43),n(15)),d=n(9),j=n(16),h=n.n(j),b=n(27),f={apiKey:"AIzaSyCJL3HC2QjKiKFrrZPUDWLJDrsp5A0Qf7A",authDomain:"gocheck-54a63.firebaseapp.com",databaseURL:"https://gocheck-54a63.firebaseio.com",projectId:"gocheck-54a63",storageBucket:"gocheck-54a63.appspot.com",messagingSenderId:"600659811699",appId:"1:600659811699:web:40baca5c08ca8c04063906",measurementId:"G-K27KD2MWCB"};b.a.apps.length||b.a.initializeApp(f);var p=b.a.database(),O=b.a.auth(),g=new b.a.auth.GoogleAuthProvider,x=function(e,t){return O.createUserWithEmailAndPassword(e,t)},m=function(e,t){return O.signInWithEmailAndPassword(e,t)},v=function(){return O.signOut()},w=function(e){return O.sendPasswordResetEmail(e)},S=function(e){return O.currentUser.updatePassword(e)},y=function(){return O.signInWithPopup(g)},C=function(e,t,n){return p.ref("users/".concat(e)).set({username:t,email:n})},k=function(){return p.ref("users").once("value")},U=function(e,t){return p.ref("messages").push({userId:e,text:t})},P=function(e){return p.ref("messages").orderByKey().limitToLast(100).on("child_added",e)},A=n(3),I=function(){return Object(A.jsx)("button",{type:"button",onClick:o.doSignOut,children:"Sign Out"})},T="/signup",W="/signin",E="/pw-forget",L="/home",D="/account",N=function(e,t){var n=t.authUser;return Object(A.jsx)("div",{children:n?Object(A.jsx)(F,{}):Object(A.jsx)(M,{})})};N.contextTypes={authUser:h.a.object};var F=function(){return Object(A.jsxs)("ul",{children:[Object(A.jsx)("li",{children:Object(A.jsx)(l.b,{to:"/",children:"Landing"})}),Object(A.jsx)("li",{children:Object(A.jsx)(l.b,{to:L,children:"Home"})}),Object(A.jsx)("li",{children:Object(A.jsx)(l.b,{to:D,children:"Account"})}),Object(A.jsx)("li",{children:Object(A.jsx)(I,{})})]})},M=function(){return Object(A.jsxs)("ul",{children:[Object(A.jsx)("li",{children:Object(A.jsx)(l.b,{to:"/",children:"Landing"})}),Object(A.jsx)("li",{children:Object(A.jsx)(l.b,{to:W,children:"Sign In"})})]})},R=N,G=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"Landing"}),Object(A.jsx)("p",{children:"The Landing Page is open to everyone, even though the user isn't signed in."})]})},B=n(21),K=n(13),J=n(14),z=n(20),_=n(19),H=n(23),Q=function(e,t){return function(){return Object(H.a)({},e,t)}},Z={username:"",email:"",passwordOne:"",passwordTwo:"",error:null},q=function(e){Object(z.a)(n,e);var t=Object(_.a)(n);function n(e){var r;return Object(K.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state,n=t.username,c=t.email,s=t.passwordOne,i=r.props.history;o.doCreateUserWithEmailAndPassword(c,s).then((function(e){a.doCreateUser(e.uid,n,c).then((function(){r.setState((function(){return Object(B.a)({},Z)})),i.push(L)})).catch((function(e){r.setState(Q("error",e))}))})).catch((function(e){r.setState(Q("error",e))})),e.preventDefault()},r.state=Object(B.a)({},Z),r}return Object(J.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,r=t.email,o=t.passwordOne,a=t.passwordTwo,c=t.error,s=o!==a||""===o||""===n||""===r;return Object(A.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(A.jsx)("input",{value:n,onChange:function(t){return e.setState(Q("username",t.target.value))},type:"text",placeholder:"Full Name"}),Object(A.jsx)("input",{value:r,onChange:function(t){return e.setState(Q("email",t.target.value))},type:"text",placeholder:"Email Address"}),Object(A.jsx)("input",{value:o,onChange:function(t){return e.setState(Q("passwordOne",t.target.value))},type:"password",placeholder:"Password"}),Object(A.jsx)("input",{value:a,onChange:function(t){return e.setState(Q("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm Password"}),Object(A.jsx)("button",{disabled:s,type:"submit",children:"Sign Up"}),c&&Object(A.jsx)("p",{children:c.message})]})}}]),n}(c.Component),V=function(){return Object(A.jsxs)("p",{children:["Don't have an account?"," ",Object(A.jsx)(l.b,{to:T,children:"Sign Up"})]})},$=Object(d.e)((function(e){var t=e.history;return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"SignUp"}),Object(A.jsx)(q,{history:t})]})})),X=function(e,t){return function(){return Object(H.a)({},e,t)}},Y={email:"",error:null},ee=function(e){Object(z.a)(n,e);var t=Object(_.a)(n);function n(e){var r;return Object(K.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state.email;o.doPasswordReset(t).then((function(){r.setState((function(){return Object(B.a)({},Y)}))})).catch((function(e){r.setState(X("error",e))})),e.preventDefault()},r.state=Object(B.a)({},Y),r}return Object(J.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.error,o=""===n;return Object(A.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(A.jsx)("input",{value:this.state.email,onChange:function(t){return e.setState(X("email",t.target.value))},type:"text",placeholder:"Email Address"}),Object(A.jsx)("button",{disabled:o,type:"submit",children:"Reset My Password"}),r&&Object(A.jsx)("p",{children:r.message})]})}}]),n}(c.Component),te=function(){return Object(A.jsx)("p",{children:Object(A.jsx)(l.b,{to:E,children:"Forgot Password?"})})},ne=function(){return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"PasswordForget"}),Object(A.jsx)(ee,{})]})},re=function(e,t){return function(){return Object(H.a)({},e,t)}},oe={email:"",password:"",error:null},ae=function(e){Object(z.a)(n,e);var t=Object(_.a)(n);function n(e){var r;return Object(K.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state,n=t.email,a=t.password,c=r.props.history;o.doSignInWithEmailAndPassword(n,a).then((function(){r.setState((function(){return Object(B.a)({},oe)})),c.push(L)})).catch((function(e){r.setState(re("error",e))})),e.preventDefault()},r.state=Object(B.a)({},oe),r}return Object(J.a)(n,[{key:"loginWithGoogle",value:function(){var e=this;o.signInWithGoogle().then((function(t){e.setState((function(){return{username:t.user.displayName,email:t.user.email,roles:{}}}))})).catch((function(t){e.setState(re("error",t))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.email,r=t.password,o=t.error,a=""===r||""===n;return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(A.jsx)("input",{value:n,onChange:function(t){return e.setState(re("email",t.target.value))},type:"text",placeholder:"Email Address"}),Object(A.jsx)("input",{value:r,onChange:function(t){return e.setState(re("password",t.target.value))},type:"password",placeholder:"Password"}),Object(A.jsx)("button",{disabled:a,type:"submit",children:"Sign In"}),o&&Object(A.jsx)("p",{children:o.message})]}),Object(A.jsx)("button",{onClick:function(t){return e.loginWithGoogle()},children:"Logga iN"})]})}}]),n}(c.Component),ce=Object(d.e)((function(e){var t=e.history;return Object(A.jsxs)("div",{children:[Object(A.jsx)("h1",{children:"SignIn"}),Object(A.jsx)(ae,{history:t}),Object(A.jsx)(te,{}),Object(A.jsx)(V,{})]})})),se=n(34),ie=n(29),ue={width:"400px",height:"400px"};function le(){var e=Object(c.useState)(!1),t=Object(se.a)(e,2),n=t[0],r=t[1];function o(){navigator.geolocation.getCurrentPosition((function(e){console.log(e),r({lat:e.coords.latitude,lng:e.coords.longitude})}))}var a=Object(ie.c)({id:"google-map-script",googleMapsApiKey:"AIzaSyAT5JNluu7-DZ_JsMFFbVEudvfwP3SqUok"}).isLoaded,i=s.a.useState(null),u=Object(se.a)(i,2),l=(u[0],u[1]),d=s.a.useCallback((function(e){var t=new window.google.maps.LatLngBounds;o(),e.fitBounds(t),l(e)}),[]),j=s.a.useCallback((function(e){l(null)}),[]);return a?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(ie.a,{mapContainerStyle:ue,center:n,zoom:10,onLoad:d,onUnmount:j,children:n&&Object(A.jsx)(ie.b,{position:n})}),Object(A.jsx)("button",{onClick:function(){return o()},children:"Check IN"})]}):Object(A.jsx)(A.Fragment,{})}var de=s.a.memo(le),je=function(e,t){return function(){return Object(H.a)({},e,t)}},he={passwordOne:"",passwordTwo:"",error:null},be=function(e){Object(z.a)(n,e);var t=Object(_.a)(n);function n(e){var r;return Object(K.a)(this,n),(r=t.call(this,e)).onSubmit=function(e){var t=r.state.passwordOne;o.doPasswordUpdate(t).then((function(){r.setState((function(){return Object(B.a)({},he)}))})).catch((function(e){r.setState(je("error",e))})),e.preventDefault()},r.state=Object(B.a)({},he),r}return Object(J.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.passwordOne,r=t.passwordTwo,o=t.error,a=n!==r||""===n;return Object(A.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(A.jsx)("input",{value:n,onChange:function(t){return e.setState(je("passwordOne",t.target.value))},type:"password",placeholder:"New Password"}),Object(A.jsx)("input",{value:r,onChange:function(t){return e.setState(je("passwordTwo",t.target.value))},type:"password",placeholder:"Confirm New Password"}),Object(A.jsx)("button",{disabled:a,type:"submit",children:"Reset My Password"}),o&&Object(A.jsx)("p",{children:o.message})]})}}]),n}(c.Component),fe=function(e){return function(t){var n=function(n){Object(z.a)(a,n);var o=Object(_.a)(a);function a(){return Object(K.a)(this,a),o.apply(this,arguments)}return Object(J.a)(a,[{key:"componentDidMount",value:function(){var t=this;r.auth.onAuthStateChanged((function(n){e(n)||t.props.history.push(W)}))}},{key:"render",value:function(){return this.context.authUser?Object(A.jsx)(t,{}):null}}]),a}(s.a.Component);return n.contextTypes={authUser:h.a.object},Object(d.e)(n)}},pe=function(e,t){var n=t.authUser;return Object(A.jsxs)("div",{children:[Object(A.jsxs)("h1",{children:["Account: ",n.email]}),Object(A.jsx)(ee,{}),Object(A.jsx)(be,{})]})};pe.contextTypes={authUser:h.a.object};var Oe=fe((function(e){return!!e}))(pe),ge=function(e){var t=function(t){Object(z.a)(o,t);var n=Object(_.a)(o);function o(e){var t;return Object(K.a)(this,o),(t=n.call(this,e)).state={authUser:null},t}return Object(J.a)(o,[{key:"getChildContext",value:function(){return{authUser:this.state.authUser}}},{key:"componentDidMount",value:function(){var e=this;r.auth.onAuthStateChanged((function(t){t?e.setState((function(){return{authUser:t}})):e.setState((function(){return{authUser:null}}))}))}},{key:"render",value:function(){return Object(A.jsx)(e,{})}}]),o}(s.a.Component);return t.childContextTypes={authUser:h.a.object},t},xe=(n(52),ge((function(){return Object(A.jsx)(l.a,{children:Object(A.jsxs)("div",{className:"app",children:[Object(A.jsx)(R,{}),Object(A.jsx)("hr",{}),Object(A.jsx)(d.a,{exact:!0,path:"/",component:function(){return Object(A.jsx)(G,{})}}),Object(A.jsx)(d.a,{exact:!0,path:T,component:function(){return Object(A.jsx)($,{})}}),Object(A.jsx)(d.a,{exact:!0,path:W,component:function(){return Object(A.jsx)(ce,{})}}),Object(A.jsx)(d.a,{exact:!0,path:E,component:function(){return Object(A.jsx)(ne,{})}}),Object(A.jsx)(d.a,{exact:!0,path:"/home",component:function(){return Object(A.jsx)(de,{})}}),Object(A.jsx)(d.a,{exact:!0,path:D,component:function(){return Object(A.jsx)(Oe,{})}}),Object(A.jsx)("hr",{}),Object(A.jsxs)("span",{children:["Found in ",Object(A.jsx)("a",{href:"https://roadtoreact.com/course-details?courseId=TAMING_THE_STATE",children:"Taming the State in React"})]})," | ",Object(A.jsxs)("span",{children:["Star the ",Object(A.jsx)("a",{href:"https://github.com/rwieruch/react-firebase-authentication",children:"Repository"})]})," | ",Object(A.jsxs)("span",{children:["Receive a ",Object(A.jsx)("a",{href:"https://www.getrevue.co/profile/rwieruch",children:"Developer's Newsletter"})]})]})})}))),me=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}u.a.render(Object(A.jsx)(xe,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");me?function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):ve(e)}))}}()}},[[53,1,2]]]);
//# sourceMappingURL=main.c7889827.chunk.js.map